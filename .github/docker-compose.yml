# docker-compose.yml

version: '3.8'

services:
  # Spring Boot ì•± ì„œë¹„ìŠ¤
  spring-app:
    # ğŸš¨ ë³¸ì¸ì˜ Docker Hub ì´ë¯¸ì§€ ì´ë¦„ìœ¼ë¡œ ìˆ˜ì •í•´ì£¼ì„¸ìš”
    image: threejj333/bd:latest
    container_name: bd-spring-app
    ports:
      - "8080:8080" # ì„œë²„ 8080í¬íŠ¸ì™€ ì»¨í…Œì´ë„ˆ 8080í¬íŠ¸ë¥¼ ì—°ê²°
    env_file:
      - ./.env # .env íŒŒì¼ì˜ ë³€ìˆ˜ë¥¼ ëª¨ë‘ ê°€ì ¸ì™€ì„œ ì‚¬ìš©
    environment:
      - SPRING_REDIS_HOST=redis # Redis ì£¼ì†ŒëŠ” 'redis'ë¼ê³  ì•Œë ¤ì¤Œ
    depends_on:
      - redis

  # Redis ì„œë¹„ìŠ¤
  redis:
    image: "redis:alpine"
    container_name: my-redis
    volumes:
      - redis-data:/data

volumes:
  redis-data: